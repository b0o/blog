:root {
  --default-font-family: 'Fira Sans', sans-serif;
  --heading-font-family: 'Merriweather', serif;
  --code-font-family: 'Consolas', 'Fira Code', monospace;

  --beige: 245, 245, 220;
  --dark-beige: 229, 228, 197;
  --darker-beige: 213, 211, 168;

  --black: 51, 51, 51;
  --grey: 74, 74, 74;
  --white: 255, 255, 255;

  --orange: 226, 88, 34;

  --blue: 163, 198, 255;
  --dark-blue: 79, 146, 255;
  --darker-blue: 70, 130, 180;

  --red: 247, 57, 79;
  --dark-red: 220, 20, 60;
  --darker-red: 194, 0, 42;

  --muted-blue: 64, 118, 210;
  --brown: 122, 93, 69;
  --palegoldenrod: 238, 232, 170;
  --tonkatsu: 236, 170, 54;
}

body {
  --primary: var(--muted-blue);

  --foreground: var(--black);
  --background: var(--beige);

  --foreground-heading: var(--brown);

  --foreground-code: var(--black);
  --background-code: var(--darker-beige);

  --divider: var(--darker-beige);

  --note: var(--dark-blue);
  --warn: var(--darker-red);
}

body.dark {
  --primary: var(--tonkatsu);

  --foreground: var(--white);
  --background: var(--black);

  --foreground-heading: var(--palegoldenrod);

  --foreground-code: var(--beige);
  --background-code: var(--grey);

  --divider: var(--grey);

  --note: var(--dark-blue);
  --warn: var(--red);
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: var(--default-font-family);
  }

  h1,
  h2,
  h3 {
    font-family: var(--heading-font-family);
    @apply mb-2 font-bold text-heading;
  }

  code {
    font-family: var(--code-font-family);
  }

  h1 {
    @apply text-2xl;
  }

  h2 {
    @apply text-xl;
  }

  h3 {
    @apply text-lg;
  }

  img {
    @apply mx-auto max-w-full;
  }

  article p {
    @apply mb-4 leading-relaxed;
  }

  a {
    @apply text-heading no-underline border-b-2 border-divider hover:border-primary;
  }

  :is(h1, h2, h3, h4) a {
    @apply no-underline;
  }

  hr {
    @apply my-4 border-t-2 border-divider;
  }

  pre {
    @apply mb-4 py-4 px-8 rounded overflow-x-auto bg-code-background;
  }

  :not(pre) > code {
    @apply px-1 font-bold text-heading;
  }

  :not(pre) > code::before,
  :not(pre) > code::after {
    content: '\`';
  }

  pre code {
    @apply float-left min-w-full leading-normal;
  }

  ul {
    @apply list-disc ml-4 mb-4;
  }

  ol {
    @apply list-decimal ml-4 mb-4;
  }

  blockquote {
    @apply pl-8 border-l-4 border-divider;
  }

  kbd {
    padding: 2px 4px;
    box-shadow: 1px 1px 1px var(--foreground-code);
    @apply inline-block rounded font-bold whitespace-nowrap align-text-bottom leading-none text-foreground border border-divider;
  }

  ::selection {
    @apply bg-foreground text-background;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2;
  }
  .btn-primary {
    @apply bg-primary text-background;
  }
  a.btn {
    @apply border-0;
  }
}

[data-preload] {
  transition: none !important;
}

.chroma .hl {
  /* unmaintainable hack to fix offset due to 4px border */
  padding-left: calc(2rem - 4px);
  @apply pr-8 -mx-8 w-auto border-l-4 border-primary !important;
}
