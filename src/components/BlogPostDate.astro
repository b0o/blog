---
import { Calendar } from 'lucide-react'
import { format } from 'date-fns'
import ptBR from 'date-fns/locale/pt-BR/index.js'
import { getLanguageFromUrl } from '@utils/i18n'

// eslint-disable-next-line @typescript-eslint/no-unused-vars
type Props = {
  date: string
}

const date = new Date(Astro.props.date)

let formattedDate = format(date, 'MMMM dd, yyyy')

if (getLanguageFromUrl(Astro.url.pathname) === 'pt') {
  formattedDate = format(date, "d ' de ' MMMM", {
    locale: ptBR,
  })
}

const datetime = format(date, 'yyyy-MM-dd')
---

<div class="flex items-center gap-2">
  <Calendar />

  <time datetime={datetime}>
    {formattedDate}
  </time>
</div>
