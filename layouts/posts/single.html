{{ define "description" }}
  {{ .Summary }}
{{ end }}

{{ define "main" }}
  <article>
    <header>
      <h1 class="text-4xl mb-4">
        {{ .Title }}
      </h1>

      <div class="flex flex-col gap-2 mb-4" style="--icon-size: 24px;">
        <div class="flex items-center gap-2">
          {{ partial "svgs/book-open.svg" . }}

          <div>
            {{ .ReadingTime }} min.
          </div>
        </div>

        <div class="flex items-center gap-2">
          {{ partial "svgs/calendar.svg" . }}

          <time class="" datetime="{{ .Date.Format "2006-01-02" }}">
            {{ if eq .Lang "en" }}
              {{ .Date.Format "January 02, 2006" }}
            {{ else }}
              {{ .Date.Day }} de {{ index $.Site.Data.portugueseMonths (printf "%d" .Date.Month) }}
            {{ end }}
          </time>
        </div>
      </div>
    </header>

    <div class="mb-4">
      {{ partial "post-tags.html" . }}
    </div>

    <hr class="my-8" />

    <section data-blog-post class="max-w-prose">
      {{ .Content }}
    </section>
  </article>

  <hr class="my-8" />

  <div data-theme-copy-code-tooltip role="tooltip" class="absolute pointer-events-none border border-divider bg-secondary-background rounded-md px-2" style="opacity: 0">
    {{ i18n "Copied" }}

    <div data-theme-copy-code-tooltip-arrow class="absolute bg-secondary-background border-r border-b border-divider w-[8px] h-[8px] rotate-45"></div>
  </div>

  {{ partial "post-nav.html" . }}
{{ end }}

{{ define "head" }}
  {{ $liteYoutubeEmbedCss := resources.Get "/css/lite-yt-embed.css" | postCSS }}

  {{ if hugo.IsProduction }}
    {{ $liteYoutubeEmbedCss = $liteYoutubeEmbedCss | minify }}
  {{ end }}

  <link rel="stylesheet" href="{{ $liteYoutubeEmbedCss.Permalink }}" />
{{ end }}

{{ define "scripts" }}
  {{ $liteYoutubeEmbedJs := resources.Get "/js/lite-yt-embed.js" | js.Build }}

  {{ if hugo.IsProduction }}
    {{ $liteYoutubeEmbedJs = $liteYoutubeEmbedJs | minify }}
  {{ end }}

  <script src="{{ $liteYoutubeEmbedJs.Permalink }}"></script>
{{ end }}
