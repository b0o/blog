{{ $isUnmaintained := isset .Params "unmaintained" }}


<article class="card grid grid-cols-1 rounded-md sm:grid-cols-[40%_60%]">
  <div class="relative">
    {{ with .Resources.GetMatch "screenshot.png" }}
      <picture>
        {{ with .Resize (printf "%dx%d webp" .Width .Height) }}
          <source srcset="{{ .Permalink }}" type="image/webp" />
        {{ end }}


        <img
          class="rounded-t-md object-cover object-left-top sm:h-full sm:max-h-full sm:rounded-l-md sm:rounded-tr-none"
          src="{{ .Permalink }}"
          alt=""
          width="{{ .Width }}"
          height="{{ .Height }}"
        />
      </picture>
    {{ end }}

    {{ if $isUnmaintained }}
      <div
        class="chip absolute top-0 left-2 -translate-y-1/2 bg-warn px-2 py-1 text-beige-100"
      >
        Unmaintained
      </div>
    {{ else }}
      <time
        class="chip absolute top-0 left-2 -translate-y-1/2 bg-primary px-2 py-1 text-primary-fg"
        datetime="{{ .Date.Format "2006-01-02" }}"
      >
        {{ .Date.Format "2006" }}
      </time>
    {{ end }}
  </div>

  <div class="flex-1 px-8 py-4 sm:flex sm:flex-col sm:justify-between">
    <div class="flex flex-col gap-2">
      <div class="flex items-center justify-between">
        <h2 class="m-0 inline-block">
          {{ if isset .Params "website" }}
            <a class="flex items-center gap-2" href="{{ .Params.website }}">
              {{ .Title }}
            </a>
          {{ else }}
            {{ .Title }}
          {{ end }}
        </h2>

        {{ with .Params.github }}
          <a
            class="btn btn-icon border-0 text-xl"
            href="{{ . }}"
            aria-label="GitHub"
          >
            {{ partial "svgs/github.svg" }}
          </a>
        {{ end }}
      </div>

      {{ .Content }}
    </div>

    <div class="mt-4 flex flex-nowrap justify-between gap-2">
      <div class="flex items-center gap-2 overflow-x-auto">
        <img
          src="https://skillicons.dev/icons?i={{ delimit .Params.icons "," }}&theme=light"
          alt="{{ i18n "Tech" }}: {{ delimit .Params.icons ", " (printf " %s " (i18n "And")) }}"
        />
      </div>
    </div>
  </div>
</article>
