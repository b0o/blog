{{ define "partials/toc-title.html" }}
  <div class="flex justify-between gap-2">
    <div class="flex items-center gap-2">
      {{ partial "svgs/list.svg" }}


      <h2 class="m-0">
        {{ i18n "TableOfContents" }}
      </h2>
    </div>

    <div
      class="flex items-center transition-transform duration-100 ease-in group-open:rotate-180 lg:hidden"
    >
      {{ partial "svgs/chevron-down.svg" . }}
    </div>
  </div>
{{ end }}

{{ $tocIsEmpty := eq .TableOfContents `<nav id="TableOfContents"></nav>` }}
{{ if not $tocIsEmpty }}
  <div
    data-toc-wrapper
    class="w-full overflow-y-auto lg:sticky lg:top-[1rem] lg:max-h-[calc(100vh-1rem)] lg:pb-8 lg:pl-8"
  >
    {{ $tableOfContentsDesktop := replace .TableOfContents `id="TableOfContents"` `data-toc data-toc-desktop` | safeHTML }}
    {{ $tableOfContentsMobile := replace .TableOfContents `id="TableOfContents"` `data-toc data-toc-mobile` | safeHTML }}


    <div class="hidden lg:block">
      {{ partial "partials/toc-title.html" . }}
      {{ $tableOfContentsDesktop }}
    </div>

    <details
      class="card group mb-8 max-w-prose px-horizontal-padding py-4 lg:hidden"
      aria-label="{{ i18n "TableOfContents" }}"
    >
      <summary class="list-none">
        {{ partial "partials/toc-title.html" . }}
      </summary>

      {{ $tableOfContentsMobile }}
    </details>
  </div>
{{ end }}
