{{ partial "meta.html" . }}

<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/icon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Fira+Sans&display=swap" rel="stylesheet">

{{ $css := resources.Get "css/main.css" | postCSS }}
{{ $darkSyntaxHighlight := resources.Get "css/dark-syntax-highlight.css" }}

{{ if hugo.IsProduction }}
  {{ $css = $css | resources.PostProcess | minify }}
  {{ $darkSyntaxHighlight = $darkSyntaxHighlight | minify }}
{{ end }}

<link rel="stylesheet" href="{{ $css.RelPermalink }}" />
<link rel="stylesheet" href="{{ $darkSyntaxHighlight.RelPermalink }}" />

<title>
  {{ .Title }} | {{ .Site.Title }}
</title>

{{ if or .Params.math .Site.Params.math }}
  {{ partial "math.html" . }}
{{ end }}

{{ template "_internal/opengraph.html" . }}
{{ template "_internal/twitter_cards.html" . }}

{{ range .AlternativeOutputFormats -}}
  {{ if (and (eq .Name "RSS") hugo.IsProduction) }}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
  {{ end }}
{{ end -}}
