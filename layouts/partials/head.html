{{ partial "meta.html" . }}

<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/icon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">

<link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Merriweather" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather" />

{{ $css := resources.Get "css/main.css" | postCSS }}
{{ $syntaxHighlight := resources.Get "css/light-syntax-highlight.css" }}
{{ $darkSyntaxHighlight := resources.Get "css/dark-syntax-highlight.css" }}

{{ if (not .Site.IsServer) }}
  {{ $css = $css | minify | resources.PostProcess }}
  {{ $syntaxHighlight = $syntaxHighlight | minify }}
  {{ $darkSyntaxHighlight = $darkSyntaxHighlight | minify }}
{{ end }}

<link rel="stylesheet" href="{{ $css.RelPermalink }}" />
<link rel="stylesheet" href="{{ $syntaxHighlight.RelPermalink }}" />
<link rel="stylesheet" href="{{ $darkSyntaxHighlight.RelPermalink }}" disabled />

<title>
  {{ .Title }} | {{ .Site.Title }}
</title>

{{ if or .Params.math .Site.Params.math }}
  {{ partial "math.html" . }}
{{ end }}

{{ template "_internal/opengraph.html" . }}
{{ template "_internal/twitter_cards.html" . }}

{{ range .AlternativeOutputFormats -}}
  {{ if (and (eq .Name "RSS") ($.Site.IsServer)) }}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
  {{ end }}
{{ end -}}
