<meta
  name="description"
  content="{{ block "description" . }}
    {{ .Params.Description | default .Site.Params.Description }}
  {{ end }}"
/>
<meta name="publish-date" content="{{ .Date.Format "2006-01-02" }}" />
<meta name="last-modified-date" content="{{ .Lastmod.Format "2006-01-02" }}" />

{{ define "partials/get-title" }}
  {{- .Title -}}
{{ end }}

{{ with (.GetTerms "tags") }}
  {{ $tags := (apply . "partial" "get-title" ".") }}
  {{ $tagsSeparatedByComma := (delimit $tags ", ") }}
  <meta name="keywords" content="{{ $tagsSeparatedByComma }}" />
{{ end }}


<title>
  {{ .Title }} |
  {{ .Site.Title }}
</title>

{{ if or .Params.math .Site.Params.math }}
  {{ partial "math.html" . }}
{{ end }}

{{ template "_internal/opengraph.html" . }}
{{ template "_internal/twitter_cards.html" . }}

{{ range .AlternativeOutputFormats -}}
  {{ if (and (eq .Name "RSS") hugo.IsProduction) }}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
  {{ end }}
{{ end -}}
