<div class="nav-container overflow-hidden sticky bg-background bg-opacity-80 backdrop-filter backdrop-blur-sm top-0 py-2 sm:py-4 mt-6">
  <div class="flex justify-between mx-auto max-w-prose px-4">
    <nav class="" aria-label="{{ i18n "MainNavigation" }}">
      {{ $currentPage := . }}

      <div class="flex flex-row flex-wrap gap-2">
        {{- range .Site.Menus.main -}}
          <a
            id="{{ .Identifier }}"
            class="text-foreground {{ if (or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .)) -}}border-primary{{- end -}}"
            href="{{ .URL | absLangURL }}"
          >
            {{ i18n .Name | default .Name }}
          </a>
        {{- end -}}
      </div>
    </nav>

    <button
      id="theme-button"
      class="rounded-full text-primary p-1"
      aria-label="{{ i18n "ThemeButton" }}"
    >
      <svg width="24" height="24" viewBox="0 0 24 24">
        <title>{{ i18n "ThemeIcon" }}</title>

        <defs>
          {{ partial "svgs/moon.svg" }}
          {{ partial "svgs/sun.svg" }}
        </defs>

        <use id="theme-button-svg-icon" href="#sun" />
      </svg>
    </button>
  </div>
</div>

{{ define "scripts" }}
  {{ $navScript := resources.Get "js/nav.js" }}

  {{ if (not .Site.IsServer) }}
    {{ $navScript := $navScript | minify }}
  {{ end }}

  <script src="{{ $navScript.Permalink }}"></script>
{{ end }}
