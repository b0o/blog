<div
  data-nav-container
  class="fixed top-0 z-30 h-16 w-full bg-background py-2 transition-transform"
>
  <div
    class="mx-auto flex h-full max-w-5xl items-center justify-between pr-page-padding"
  >
    <nav
      class="pretty-scrollbar flex h-full snap-x snap-proximity items-center overflow-x-scroll py-1 px-page-padding"
      aria-label="{{ i18n "MainNavigation" }}"
    >
      {{ $currentPage := . }}


      <ul
        class="m-0 flex h-full list-none flex-row flex-nowrap items-center gap-2"
      >
        {{- range .Site.Menus.main -}}
          <li class="h-full snap-start">
            <a
              id="{{ .Identifier }}"
              href="{{ .URL | absLangURL }}"
              {{ if (or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .)) }}
                data-active-navlink
              {{ end }}
              class="
                {{ if (or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .)) }}
                hover:bg-hover card transition-colors duration-500
              {{ else }}
                after:content-[''] after:absolute after:-z-10 after:bg-surface
                after:w-full after:h-full after:rounded-md after:shadow-md
                after:shadow-divider after:scale-0 hover:after:scale-100
                after:opacity-0 hover:after:opacity-100
                after:transition-[transform,_opacity] after:duration-500
                hover:after:bg-hover
              {{ end }}
                relative
                flex
                h-full
                items-center
                justify-center
                rounded-md
                border-0
                px-2
              "
            >
              {{ i18n .Name | default .Name }}
            </a>
          </li>
        {{- end -}}
      </ul>
    </nav>

    <div class="h-full py-1">
      <div class="card flex h-full items-center px-2">
        {{ if .IsTranslated }}
          {{ partial "language-button.html" . }}
        {{ end }}
        {{ partial "theme-button.html" . }}
      </div>
    </div>

    {{ if .IsTranslated }}
      {{ partial "language-listbox.html" . }}
    {{ end }}
    {{ partial "theme-listbox.html" . }}
  </div>
</div>
