{{ $gravatarUrl := printf "https://www.gravatar.com/avatar/%s?s=200" (md5 .Site.Params.email) }}
{{ $gravatarUrl2x := printf "https://www.gravatar.com/avatar/%s?s=400" (md5 .Site.Params.email) }}
{{ $gravatarUrl3x := printf "https://www.gravatar.com/avatar/%s?s=600" (md5 .Site.Params.email) }}

{{ $gravatar := resources.GetRemote $gravatarUrl }}


<div
  class="relative z-0 shrink-0 overflow-hidden rounded-full border-2 border-primary"
>
  {{ $blurred := $gravatar.Filter (images.GaussianBlur 6) }}


  <div
    class="absolute inset-0 -z-1 h-full w-full"
    style="background: url('data:image/png;base64,{{ $blurred.Content | base64Encode }}') no-repeat;"
  ></div>

  <img
    id="gravatar"
    srcset="
      {{ $gravatarUrl }} 1x,
      {{ $gravatarUrl2x }} 2x,
      {{ $gravatarUrl3x }} 3x
    "
    alt="{{ i18n "GravatarAltText" }}"
    width="{{ $gravatar.Width }}"
    height="{{ $gravatar.Height }}"
  />
</div>
