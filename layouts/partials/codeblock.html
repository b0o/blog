<div
  data-codeblock
  {{ if .Attributes.filename }}data-codeblock-with-filename{{ end }}
  class="{{ if .Attributes.filename }}
    my-16
  {{ else }}
    my-8
  {{ end }} group relative -mx-horizontal-padding sm:mx-0"
>
  {{ with .Attributes.filename }}
    <div
      class="absolute top-0 left-horizontal-padding mx-auto max-w-[calc(100%-var(--horizontal-padding)*2)] -translate-y-full overflow-hidden"
    >
      <span class="chroma flex gap-2 rounded-t px-4 py-1">
        <span class="shrink-0">
          {{ partial "svgs/file-text.svg" . }}
        </span>

        <span class="rtl truncate text-right">
          <bdi>
            {{- . -}}
          </bdi>
        </span>
      </span>
    </div>
  {{ end }}

  {{ highlight .Inner .Type .Options }}


  <button
    data-copy-code-button
    class="{{ if .Type }}
      dark
    {{ end }} btn btn-icon btn-icon-action pointer-events-none absolute right-0 top-3 hidden -translate-x-1/2 bg-surface opacity-0 transition-opacity duration-500 group-hover:pointer-events-auto group-hover:opacity-100"
    aria-label="{{ i18n "CopyCodeButtonLabel" }}"
  >
    {{ partial "svgs/clipboard.svg" }}
  </button>
</div>
