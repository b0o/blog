{{ range .Paginator.Pages }}
  <div class="pages-container">
    <div class="page">

      <h4 class="page-title">
        <a class="plain-link highlight-on-hover" href="{{ .Permalink }}">{{ .Title }}</a>
      </h4>

      <time class="page-date" datetime="{{ .Date.Format "2006-01-02" }}">
        <strong>
          {{ .Date.Format "Jan 02" }}
        </strong>
      </time>

      <div class="page-text">
        {{ .Summary }}
      </div>

      {{ $taxonomy := cond (eq $.Section "categories") "tags" "categories" }}
      {{ $taxonomyPage := .Site.GetPage (printf "/%s" $taxonomy) }}

      <div class="page-categories">
        {{ $terms := (.GetTerms $taxonomy) }}
        <strong>
          <a
            class="plain-link highlight-on-hover"
            href="{{ $taxonomyPage.Permalink }}">
            {{ $taxonomy | title }}:
          </a>
        </strong>
        {{ range $index, $term := $terms }}
          <a class="plain-link highlight-on-hover" href="{{ $term.Permalink }}">
            {{- $term.Title -}}
          </a>
          {{- if (lt (add $index 1) (len $terms)) }},{{ end -}}
        {{ end }}
      </div>

    </div>
  </div>
{{ end }}

<div class="pagination-container">
  {{ partial "pagination.html" . }}
</div>
