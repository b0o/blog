<!DOCTYPE html>
<html class="h-full" lang="{{ .Site.Params.htmlLang | default .Lang }}">
  <head>
    {{ partial "head.html" . }}

    {{ block "css" . }}
      {{ range (.Resources.Match "*.css") }}
        <link href="{{ .RelPermalink }}" rel="stylesheet" />
      {{ end }}
    {{ end }}
  </head>

  <body class="px-4 py-8 preload text-normal bg-background flex flex-col container max-w-2xl min-h-full mx-auto transition transition-colors duration-75 ease-out" data-theme="light">
    {{ partial "theme.html" }}

    {{ partial "header.html" . }}

    <main class="flex flex-1 flex-col">
      {{ block "main" . }}
        {{ .Content }}
      {{ end }}
    </main>

    {{ partial "footer.html" . }}

    {{ block "scripts" . }}
      {{ range (.Resources.Match "*.js") }}
        <script src="{{ .RelPermalink }}"></script>
      {{ end }}
    {{ end }}

    {{ $toggleThemeScript := resources.Get "js/toggle-theme.js" }}

    {{ if (not .Site.IsServer) }}
      {{ $toggleThemeScript := $toggleThemeScript | minify }}
    {{ end }}

    <script src="{{ $toggleThemeScript.Permalink }}"></script>
  </body>
</html>
