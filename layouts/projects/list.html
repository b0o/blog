{{ define "head" }}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
{{ end }}

{{ define "main" }}
  <section class="">
    <ul class="list-none m-0">
    {{ range .Pages }}
      <li class="mb-16 last:mb-0">
        {{ $isUnmaintained := isset .Params "unmaintained" }}

        <article class="flex gap-4 flex-col sm:flex-row">
          <div class="relative rounded-0 sm:rounded-md -mx-default-padding sm:mx-0 overflow-hidden h-[216px] sm:w-2/5 border-y-2 sm:border-2 {{ if $isUnmaintained }}border-warn{{ else }}border-divider{{ end }}">
            {{ with (index (.Resources.ByType "image") 0) }}
              <img class="object-cover object-left-top min-w-full h-full" src="{{ .Permalink }}" width="auto" height="216" alt="">
              </img>
            {{ end }}

            {{ if $isUnmaintained }}
              <div class="absolute top-2 right-2 rounded-md bg-warn text-background dark:text-foreground px-2 py-1">
                Unmaintained
              </div>
            {{ end }}
          </div>

          <div class="flex-1 sm:flex sm:flex-col sm:justify-between">
            <div>
              <div class="flex items-center justify-between text-xl mb-4">
                {{ if .Params.website }}
                  <h2 class="m-0 inline-block">
                    <a class="border-0 flex items-center gap-2" style="--icon-size: 1em;" href="{{ .Params.website }}">
                      {{ .Title }}

                      {{ partial "svgs/external-link.svg" }}
                    </a>
                  </h2>
                {{ else }}
                  <h2 class="m-0 inline-block">
                    {{ .Title }}
                  </h2>
                {{ end }}

                <time class="font-bold" datetime="{{ .Date.Format "2006-01-02" }}">
                  {{ .Date.Format "2006" }}
                </time>
              </div>

              {{ .Content }}
            </div>

            <div class="mt-4 flex flex-nowrap gap-2 justify-between">
              <div class="flex items-center gap-2 overflow-x-auto">
                {{ range $_, $devicon := .Params.devicons }}
                  <i class="devicon-{{ $devicon }}-plain text-3xl"></i>
                {{ end }}
              </div>

              {{ with .Params.github }}
                <a
                  class="btn btn-primary btn-icon border-0"
                  style="--icon-size: 1.5em"
                  href="{{ . }}"
                >
                  {{ partial "svgs/github.svg" }}
                </a>
              {{ end }}
            </div>
          </div>
        </article>
      </li>
    {{ end }}
    </ul>
  </section>
{{ end }}
